<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Project1</title>
</head>

<body>

    <!-- //Forms for user input 'done'-->
    <!-- //things we need to complete need to be able tro save to local storage  -->
    <!-- //search button needs to be set up with on click listener and doesn't refresh page -->
    <!-- //load api's to html -->
    <form id="CityWeather">
        Search For Weather By City:<br>
        <input id="City" type="text">

        <button class="Weather">Search</button>
    </form>

    <br>
    <form id="Activities">
        Search For Activities By City:<br>
        <input id="attraction" type="text">


        <button class="Activities">Search</button>
    </form>


    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script type="text/javascript">

        //Weather Search button listener

        $("#CityWeather").on("submit", function (event) {
            //console.log(event)
            event.preventDefault();
            let city = $("#City").val();
            console.log(city)
            let APIKey = "27c1cb8e958edefa8e76e521738fbd32";
            let queryURL = "https://api.openweathermap.org/data/2.5/forecast?q=" + city + "&appid=" + APIKey +"&units=imperial";

            //console.log(response)
            // this code sends our ajax requests and sets our promise
            $.ajax({
                url: queryURL,
                method: "GET"
            }).then(function (response) {
                console.log(response);
                // this line is creating a DIV variable
                let weatherDiv = $("<div>");
                let p = $("<p>").text("Temperature: " + response.list[0].main.temp);
            
                weatherDiv.append(p);
                $("body").append(weatherDiv);
            }

            )
        });

        //This is where the information response will appear


    </script>

</body>

</html>